language: cpp
compiler:
  - gcc
  - clang

before_script:
  - wget https://cmake.org/files/v3.8/cmake-3.8.1-Linux-x86_64.tar.gz -O CMake.tar.gz --no-check-certificate && tar -xvf CMake.tar.gz && export CMake=$PWD/cmake-3.8.1-Linux-x86_64/bin/cmake && export CTest=$PWD/cmake-3.8.1-Linux-x86_64/bin/ctest

script:
  - mkdir build && cd build && ${CMake} .. && ${CMake} --build . --target all && ${CTest}
  - echo "Testing log:" && cat "Testing/Temporary/LastTest.log"
